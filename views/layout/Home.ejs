<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/header.ejs') %>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
      .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .card-hover:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      }
      .btn-hover {
        transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
      }
      .btn-hover:not(:disabled):hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .btn-pulse {
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.03); }
        100% { transform: scale(1); }
      }
    </style>
  </head>
  <body class="min-h-screen bg-gray-100 flex flex-col font-sans">
    <%- include('../partials/navbar.ejs') %>
    <div class="flex min-h-screen flex-grow">
      <% if (user) { %>
        <%- include('../partials/sidebar.ejs') %>
      <% } %>
      <main class="flex-grow flex flex-col justify-between min-h-screen">
        <!-- Hero Section -->
       <div class=" w-full sm:max-w-5xl md:max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8" >
         <section class="bg-emerald-50 rounded-xl shadow-sm p-6 sm:p-8 md:p-10 text-center mb-12" data-aos="fade-up" data-aos-duration="600" role="banner">
          <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 tracking-tight mb-6" data-aos="zoom-in" data-aos-duration="600">
            Welcome to Task Manager
          </h1>
          <p class="text-base sm:text-lg md:text-xl font-medium text-gray-700 max-w-3xl mx-auto mb-8 leading-relaxed">
            Transform your productivity with a sleek, intuitive platform to manage tasks, track progress, and collaborate seamlessly.
          </p>
          <% if (user) { %>
            <div class="mt-6 space-y-6" data-aos="fade-in" data-aos-duration="600" data-aos-delay="100">
              <h2 class="text-xl sm:text-2xl font-semibold text-gray-900 mb-4">
                Welcome, <%= user.firstName %> <%= user.lastName %>!
              </h2>
              <% if (isAdmin) { %>
                <p class="text-base font-medium text-gray-700 bg-emerald-100 rounded-lg p-3" id="user-status" aria-describedby="user-status">
                  You are logged in as an <strong>Admin</strong>.
                </p>
              <% } else { %>
                <p class="text-base font-medium text-gray-700" id="user-status" aria-describedby="user-status">
                  Embark on your productivity journey with Task Manager.
                </p>
              <% } %>
              <a
                href="/task"
                class="inline-block bg-emerald-600 text-white text-base font-semibold px-6 py-2.5 rounded-lg btn-hover btn-pulse shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all"
                aria-label="Go to task dashboard"
                data-aos="fade-in"
                data-aos-duration="600"
                data-aos-delay="150"
              >
                Go to Dashboard
              </a>
            </div>
          <% } else { %>
            <div class="flex flex-col sm:flex-row justify-center gap-3 mt-6" data-aos="fade-in" data-aos-duration="600" data-aos-delay="100">
              <a
                href="/loginPage"
                class="bg-emerald-600 text-white text-base font-semibold px-6 py-2.5 rounded-lg btn-hover btn-pulse shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all"
                aria-label="Log in to access tasks"
              >
                Log In
              </a>
              <a
                href="/signupPage/starter"
                class="bg-gray-700 text-white text-base font-semibold px-6 py-2.5 rounded-lg btn-hover btn-pulse shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all"
                aria-label="Sign up to start using Task Manager"
              >
                Sign Up
              </a>
            </div>
          <% } %>
        </section>

        <!-- Features Section -->
        <section class="mb-12" data-aos="fade-up" data-aos-duration="600" data-aos-delay="200">
          <h2 class="text-3xl font-bold text-gray-900 text-center mb-8">
            Key Features
          </h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10">
            <div
              class="bg-white p-6 rounded-xl shadow-md border border-gray-200 card-hover hover:bg-emerald-50"
              data-aos="fade-in"
              data-aos-duration="600"
              data-aos-delay="250"
            >
              <i class="fa-solid fa-check-circle text-emerald-600 text-2xl mb-4 transition-transform hover:scale-110"></i>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Task Management</h3>
              <p class="text-sm sm:text-base font-medium text-gray-700">
                Organize tasks efficiently with intuitive tools to prioritize and manage your workload.
              </p>
            </div>
            <div
              class="bg-white p-6 rounded-xl shadow-md border border-gray-200 card-hover hover:bg-emerald-50"
              data-aos="fade-in"
              data-aos-duration="600"
              data-aos-delay="300"
            >
              <i class="fa-solid fa-chart-line text-emerald-600 text-2xl mb-4 transition-transform hover:scale-110"></i>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Progress Tracking</h3>
              <p class="text-sm sm:text-base font-medium text-gray-700">
                Monitor your project milestones and stay on top of your goals with real-time insights.
              </p>
            </div>
            <div
              class="bg-white p-6 rounded-xl shadow-md border border-gray-200 card-hover hover:bg-emerald-50"
              data-aos="fade-in"
              data-aos-duration="600"
              data-aos-delay="350"
            >
              <i class="fa-solid fa-users text-emerald-600 text-2xl mb-4 transition-transform hover:scale-110"></i>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">User Roles</h3>
              <p class="text-sm sm:text-base font-medium text-gray-700">
                Assign roles and permissions to collaborate seamlessly with your team.
              </p>
            </div>
          </div>
        </section>

        <!-- Packages Section -->
        <section class="mb-12" data-aos="fade-up" data-aos-duration="600" data-aos-delay="300">
          <%- include('../partials/packages.ejs') %>
        </section>
       </div>
        <%- include('../partials/footer.ejs') %>
      </main>
    </div>
    <%- include('../partials/toast.ejs') %>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        if (typeof AOS === 'undefined') {
          console.error('AOS library failed to load');
          return;
        }
        AOS.init({
          once: true,
          offset: 100,
          duration: 600,
          easing: 'ease-out',
        });
        console.log('AOS initialized for index page');
      });
    </script>
  </body>
</html>