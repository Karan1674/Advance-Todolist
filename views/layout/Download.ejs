
<!DOCTYPE html>
<html lang="en">
<%- include('../partials/header') %>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<body class="min-h-screen bg-gray-100 flex flex-col font-sans">
  <%- include('../partials/navbar') %>

  <div class="flex flex-grow">
    <%- include('../partials/sidebar') %>
    <main class="flex-grow p-4 sm:p-6 py-8">
      <div class="mx-auto max-w-5xl bg-white shadow-lg rounded-xl p-6 sm:p-8 relative" data-aos="fade-up" data-aos-duration="400">
      

        <% if (filePath) { %>
          <div class="flex justify-end mb-4" data-aos="fade-up" data-aos-duration="400" data-aos-delay="100">
            <a
              href="/download-pdf?filePath=<%= encodeURIComponent(filePath) %>"
              download
              class="bg-teal-600 text-white px-5 py-2.5 rounded-lg hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 transition flex items-center gap-2"
              aria-label="Download PDF"
            >
              <i class="fa-solid fa-download"></i> Download PDF
            </a>
          </div>
          <iframe
            src="/<%= filePath %>"
            frameborder="0"
            class="w-full h-[80vh] sm:h-[90vh] rounded-lg border border-gray-200 shadow-sm"
            title="PDF preview"
            data-aos="fade-up"
            data-aos-duration="400"
            data-aos-delay="200"
          ></iframe>
        <% } else { %>
          <div class="flex flex-col items-center justify-center min-h-[400px] text-center" data-aos="fade-up" data-aos-duration="400" data-aos-delay="100">
            <p class="text-lg font-semibold text-gray-700 mb-4">No PDF file available for preview.</p>
            <button
              class="bg-teal-600 text-white px-5 py-2.5 rounded-lg hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 transition flex items-center gap-2"
              onclick="window.history.back()"
              aria-label="Back to previous page"
            >
              <i class="fa-solid fa-arrow-left"></i> Back
            </button>
          </div>
        <% } %>
      </div>
    </main>
  </div>

  <%- include('../partials/footer') %>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Initialize AOS
    document.addEventListener('DOMContentLoaded', () => {
      AOS.init({
        duration: 400,
        easing: 'ease-out',
        once: true,
        offset: 120,
      });
      // Debug: Log filePath
      console.log('File Path:', '<%= filePath || "No file path provided" %>');
    });
  </script>
</body>
</html>