
<!DOCTYPE html>
<html lang="en">
<%- include('../partials/header') %>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

<body class="min-h-screen bg-gray-100 flex flex-col">
  <%- include('../partials/navbar') %>
  <%- include('../partials/toast.ejs') %>
  <div class="flex min-h-screen flex-grow">
    <%- include('../partials/sidebar') %>
    <main class="flex-grow flex justify-between flex-col min-h-screen ">
      <div class="w-full bg-white my-8 mb-18 p-6 flex justify-center max-w-5xl mx-auto p-6 rounded shadow relative" data-aos="fade-up" data-aos-duration="400">
        <div
          class="absolute right-2 top-1"
          onclick="window.location.href='/taskDetail/<%= commentData.taskId %>'"
        >
          <i class="fa-solid fa-xmark text-2xl"></i>
        </div>
        <div class="flex max-w-4xl h-150 mx-auto items-center justify-center" data-aos="fade-up" data-aos-duration="400" data-aos-delay="100">
          <% if(commentData?.commentfile.includes('.png') ||
            commentData?.commentfile.includes('.jpg') ||
            commentData?.commentfile.includes('.jpeg')) { %>
            <img
              src="../../Uploads/<%= commentData.commentfile %>"
              class="h-150"
              alt="commentImage"
            />
          <% } else if(commentData?.commentfile.includes('.pdf')) { %>
            <iframe
              src="../../Uploads/<%= commentData.commentfile %>"
              width="100%"
              height="100%"
            ></iframe>
          <% } else if (commentData?.commentfile.includes('.docx')) { %>
            <div class="text-center">
              <p class="mb-8 text-gray-700">
                DOCX files cannot be previewed. Click below to download:
              </p>
              <a
                href="../../Uploads/<%= commentData.commentfile %>"
                download
                class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
              >
                Download DOCX
              </a>
            </div>
          <% } %>
        </div>
      </div>
      <%- include('../partials/footer') %>
    </main>
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Initialize AOS
    document.addEventListener('DOMContentLoaded', () => {
      AOS.init({
        duration: 400,
        easing: 'ease-out',
        once: true,
        offset: 120,
      });
    });
  </script>
</body>
</html>