<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/header.ejs') %>

  <body class="min-h-screen bg-gray-100 flex flex-col">
    <%- include('../partials/navbar.ejs') %>

    <div class="flex flex-grow">
      <%- include('../partials/sidebar') %>

      <main class="flex-grow p-6  flex justify-center items-center py-8">
        <div class="w-full bg-white max-w-5xl mx-auto p-6 rounded shadow relative">
          <div
            class="absolute right-2 top-1"
            onclick="window.location.href='/taskDetail/<%=commentData.taskId%>'"
          >
            <i class="fa-solid fa-xmark text-2xl"></i>
          </div>
          <div class="flex max-w-4xl h-150 mx-auto items-center justify-center">
            <% if(commentData?.commentfile.includes('.png') ||
            commentData?.commentfile.includes('.jpg') ||
            commentData?.commentfile.includes('.jpeg')) { %>

            <img
              src="../../uploads/<%=commentData.commentfile %>"
              class="h-150"
              alt="commentImage"
            />

            <% } else if(commentData?.commentfile.includes('.pdf') ){ %>
            <iframe
              src="../../uploads/<%=commentData.commentfile%>"
              width="100%"
              height="100%"
            ></iframe>

            <% } else if (commentData?.commentfile.includes('.docx')) { %>
            <div class="text-center">
              <p class="mb-8 text-gray-700">
                DOCX files cannot be previewed. Click below to download:
              </p>
              <a
                href="../../uploads/<%= commentData.commentfile %>"
                download
                class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
              >
                Download DOCX
              </a>
            </div>
            <% } %>
          </div>
        </div>
      </main>
    </div>
    <%- include('../partials/footer.ejs') %>
  </body>
</html>
