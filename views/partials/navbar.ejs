<div class="bg-white p-6 top-0">
  <div class="flex items-center justify-between max-w-7xl mx-auto">
    <!-- Logo -->
    <h2
      class="text-2xl sm:text-3xl font-extrabold text-gray-800 tracking-tight cursor-pointer flex items-center gap-3"
      onclick="window.location.href='/'"
      data-aos="fade-right"
      data-aos-duration="800"
    >
      <i class="fa-solid fa-list-check text-teal-600 text-2xl"></i> Task Manager
    </h2>

    <!-- Desktop Menu -->
    <div class="hidden lg:flex items-center gap-8">
      <% if (user) { %>
      <div class="flex items-center gap-8">
        <a
          class="font-semibold text-lg text-gray-700 hover:text-blue-600 transition-colors"
          href="/task"
          >Tasks</a
        >
        <% if (isAdmin) { %>
        <a
          class="font-semibold text-lg text-gray-700 hover:text-blue-600 transition-colors"
          href="/assigntask"
          >Assign Task</a
        >
        <% } else { %>
        <a
          class="font-semibold text-lg text-gray-700 hover:text-blue-600 transition-colors"
          href="/Admintask"
          >Admin Task</a
        >
        <% } %>
        <a
          class="font-semibold text-lg text-gray-700 hover:text-blue-600 transition-colors"
          href="/profile"
          >Profile</a
        >
      </div>
      <button
        class="bg-gradient-to-r from-red-600 to-red-400 text-white px-4 py-2 rounded-full shadow-md hover:from-red-700 hover:to-red-500 transition-all transform hover:scale-105"
        onclick="window.location.href='/logout'"
      >
        Logout
      </button>
      <% } else { %>
      <button
        class="bg-gradient-to-r from-blue-600 to-blue-400 text-white px-4 py-2 rounded-full shadow-md hover:from-blue-700 hover:to-blue-500 transition-all transform hover:scale-105"
        onclick="window.location.href='/loginPage'"
      >
        Log In
      </button>
      <button
        class="bg-gradient-to-r from-gray-800 to-gray-600 text-white px-4 py-2 rounded-full shadow-md hover:from-gray-900 hover:to-gray-700 transition-all transform hover:scale-105"
        onclick="window.location.href='/signuppage/starter'"
      >
        Sign Up
      </button>
      <% } %>
    </div>

    <!-- Hamburger Icon -->
    <div
      onclick="handleHamburger()"
      class="hamburger-icon lg:hidden mr-2 flex flex-col justify-center gap-1.5 cursor-pointer"
      onkeypress="handleHamburger()"
      role="button"
      aria-label="Toggle menu"
      tabindex="0"
    >
      <div class="bg-blue-600 h-1 w-8 rounded"></div>
      <div class="bg-blue-600 h-1 w-8 rounded"></div>
      <div class="bg-blue-600 h-1 w-8 rounded"></div>
    </div>

    <!-- Mobile Menu -->
    <div
      class="menu transform translate-x-full transition-transform duration-300 ease-in-out fixed top-[80px] right-0 w-[80%] sm:w-[50%] h-full bg-white shadow-2xl z-50 border-l border-gray-200"
      data-aos="fade-left"
      data-aos-duration="500"
    >
      <div class="flex flex-col items-center mt-8 space-y-4 px-6">
        <% if (user) { %>
        <div
          class="w-24 h-24 rounded-full border-2 border-blue-600 overflow-hidden relative"
        >
          <div
            class="w-full h-full bg-center bg-cover"
            style="
              background-image: url('../../Uploads/<%= user.profilePic %>');
            "
          ></div>
          <div
            class="absolute inset-0 bg-blue-600 opacity-10 rounded-full"
          ></div>
        </div>
        <a
          href="/profile"
          onclick="handleHamburger()"
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
        >
          Profile
        </a>
        <hr class="bg-gray-200 w-full h-px" />
        <a
          href="/task"
          onclick="handleHamburger()"
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
        >
          Tasks
        </a>
        <hr class="bg-gray-200 w-full h-px" />
        <% if (isAdmin) { %>
        <a
          href="/assigntask"
          onclick="handleHamburger()"
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
        >
          Assign Task
        </a>
        <hr class="bg-gray-200 w-full h-px" />
        <a
          href="/assignedtask"
          onclick="handleHamburger()"
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
        >
          Assigned Task
        </a>
        <hr class="bg-gray-200 w-full h-px" />
        <% } else { %>
        <a
          href="/Admintask"
          onclick="handleHamburger()"
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
        >
          Admin Task
        </a>
        <hr class="bg-gray-200 w-full h-px" />
        <% } %>

        <a
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
          href="/profile"
        >
          Profile
        </a>
        <hr class="bg-gray-200 w-full h-px" />

        <a
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
          href="/medialibrary"
        >
          Media Library
        </a>

                <hr class="bg-gray-200 w-full h-px" />

        <a
          class="w-full text-center py-3 font-semibold text-gray-800 hover:bg-blue-50 rounded-lg transition-colors"
          href="/downloadTask"
        >
          Download
        </a>
        <hr class="bg-gray-200 w-full h-px" />

        <button
          onclick="window.location.href='/logout'; handleHamburger()"
          class="w-full py-3 text-red-600 font-bold hover:bg-red-50 rounded-lg transition-colors"
        >
          Logout
        </button>
        <% } else { %>
        <button
          onclick="window.location.href='/signuppage/starter'; handleHamburger()"
          class="w-full py-3 text-blue-600 font-bold hover:bg-blue-50 rounded-lg transition-colors"
        >
          Sign Up
        </button>
        <button
          onclick="window.location.href='/loginPage'; handleHamburger()"
          class="w-full py-3 text-blue-600 font-bold hover:bg-blue-50 rounded-lg transition-colors"
        >
          Log In
        </button>
        <% } %>
      </div>
    </div>
  </div>
</div>

<script>
  const menu = document.querySelector(".menu");
  function handleHamburger() {
    menu.classList.toggle("translate-x-full");
  }
</script>
